(window.webpackJsonp=window.webpackJsonp||[]).push([["6d02"],{"/eQG":function(e,t,n){n("v5Dd");var a=n("WEpk").Object;e.exports=function(e,t){return a.getOwnPropertyDescriptor(e,t)}},Cxfa:function(e,t,n){"use strict";n.r(t);var a=n("ln6h"),r=n.n(a),u=n("O40h"),o=n("kOwS"),c=n("0iUn"),l=n("sLSF"),s=n("MI3g"),i=n("a7VT"),d=n("AT/M"),f=n("Tit0"),p=n("vYYK"),h=n("q1tI"),m=n.n(h),g=n("1Yj4"),v=n("sOKU"),b=n("ok1R"),O=n("rhny"),E=n("ZfN1"),w=n("G1oq"),k=n("X68C"),j=n("kvuc"),y=n("wx14"),x=n("17x9"),N=n.n(x),B=n("oI+J"),P={children:N.a.node},C=function(e){return m.a.createElement(B.a,Object(y.a)({group:!0},e))};C.propTypes=P;var I=C,S=n("Z7gm"),T=function(e){function t(e){var n;return Object(c.default)(this,t),(n=Object(s.default)(this,Object(i.default)(t).call(this,e))).toggle=n.toggle.bind(Object(d.default)(n)),n.state={dropdownOpen:!1},n}return Object(f.default)(t,e),Object(l.default)(t,[{key:"toggle",value:function(){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"renderMenu",value:function(e){return m.a.createElement(k.a,null,e.map(function(e,t){return m.a.createElement(j.a,Object(o.a)({key:t},e.handlers),e.text)}))}},{key:"render",value:function(){var e=this.props.items;return m.a.createElement(I,{className:"btn-dropdown",isOpen:this.state.dropdownOpen,toggle:this.toggle},m.a.createElement(S.a,{caret:!0,size:"sm"}),m.a.createElement(k.a,null,this.renderMenu(e)))}}]),t}(m.a.Component),_=n("lxPV"),Y=n("dpnd"),D=n("8cHP"),L=function(e){function t(){var e,n;Object(c.default)(this,t);for(var a=arguments.length,r=new Array(a),u=0;u<a;u++)r[u]=arguments[u];return n=Object(s.default)(this,(e=Object(i.default)(t)).call.apply(e,[this].concat(r))),Object(p.a)(Object(d.default)(n),"dropdownOptions",function(e){var t=n.createStatus(e.status);return[{text:t.view,handlers:{onClick:function(){return n.changeBlogStatus(t.value,e._id)}}},{text:"Delete",handlers:{onClick:function(){return n.deleteBlogWarning(e._id)}}}]}),n}return Object(f.default)(t,e),Object(l.default)(t,[{key:"changeBlogStatus",value:function(e,t){Object(Y.l)({status:e},t).then(function(){D.Router.pushRoute("/userBlogs")}).catch(function(e){console.error(e.message)})}},{key:"deleteBlogWarning",value:function(e){confirm("Are you sure you want to delete this?")&&this.deleteBlog(e)}},{key:"deleteBlog",value:function(e){Object(Y.c)(e).then(function(e){D.Router.pushRoute("/userBlogs")}).catch(function(e){return console.error(e.message)})}},{key:"separateBlogs",value:function(e){var t=[],n=[];return e.forEach(function(e){"draft"===e.status?n.push(e):t.push(e)}),{published:t,drafts:n}}},{key:"createStatus",value:function(e){return"draft"===e?{view:"Publish Story",value:"published"}:{view:"Make a draft",value:"draft"}}},{key:"renderBlogs",value:function(e){var t=this;return m.a.createElement("ul",{className:"user-blogs-list"},e.map(function(e,n){return m.a.createElement("li",{key:n},m.a.createElement(D.Link,{route:"/blogs/".concat(e._id,"/edit")},m.a.createElement("a",{href:""},e.title)),m.a.createElement(T,{items:t.dropdownOptions(e),caret:!0,size:"lg"}))}))}},{key:"render",value:function(){var e=this.props.blogs,t=this.separateBlogs(e),n=t.published,a=t.drafts;return m.a.createElement(E.a,Object(o.a)({headerType:"landing"},this.props.auth),m.a.createElement("div",{className:"masthead",style:{backgroundImage:"url('/static/images/home-bg.jpg')"}},m.a.createElement("div",{className:"overlay"}),m.a.createElement(g.a,null,m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-lg-8 col-md-10 mx-auto"},m.a.createElement("div",{className:"site-heading"},m.a.createElement("h1",null,"Blogs Dashboard"),m.a.createElement("span",{className:"subheading"},"Let's Write!"," ",m.a.createElement(D.Link,{route:"/blogs/new"},m.a.createElement(v.a,{color:"primary"},"Create a new Blog")))))))),m.a.createElement(w.a,{className:"blog-user-page"},m.a.createElement(b.a,null,m.a.createElement(O.a,{md:"6",className:"mx-auto text-center"},m.a.createElement("h2",{className:"blog-title"},"Published Blogs:"),this.renderBlogs(n)),m.a.createElement(O.a,{md:"6",className:"mx-auto text-center"},m.a.createElement("h2",{className:"blog-title"},"Draft Blogs:"),this.renderBlogs(a)))))}}],[{key:"getInitialProps",value:function(){var e=Object(u.default)(r.a.mark(function e(t){var n,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.req,a=[],e.prev=2,e.next=5,Object(Y.k)(n);case 5:a=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:return e.abrupt("return",{blogs:a});case 12:case"end":return e.stop()}},e,null,[[2,8]])}));return function(t){return e.apply(this,arguments)}}()}]),t}(m.a.Component);t.default=Object(_.a)("siteOwner")(L)},"Jo+v":function(e,t,n){e.exports=n("/eQG")},lxPV:function(e,t,n){"use strict";var a=n("ln6h"),r=n.n(a),u=n("Jo+v"),o=n.n(u),c=n("4mXO"),l=n.n(c),s=n("pLtp"),i=n.n(s),d=n("vYYK");function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=i()(n);"function"==typeof l.a&&(a=a.concat(l()(n).filter(function(e){return o()(n,e).enumerable}))),a.forEach(function(t){Object(d.a)(e,t,n[t])})}return e}var p=n("O40h"),h=n("0iUn"),m=n("sLSF"),g=n("MI3g"),v=n("a7VT"),b=n("Tit0"),O=n("q1tI"),E=n.n(O),w=n("ZfN1"),k=n("G1oq");t.a=function(e){return function(t){return function(n){function a(){return Object(h.default)(this,a),Object(g.default)(this,Object(v.default)(a).apply(this,arguments))}return Object(b.default)(a,n),Object(m.default)(a,[{key:"renderProtectedContent",value:function(){var n=this.props.auth,a=n.isAuthenticated,r=n.user,u=r&&r["".concat("https://portfoliosblogs.herokuapp.com","/role")],o=!1;return e?u&&u===e&&(o=!0):o=!0,a?o?E.a.createElement(t,this.props):E.a.createElement(w.a,this.props.auth,E.a.createElement(k.a,null,E.a.createElement("div",null,"Unauthorized - You don't have permission to access this content"),E.a.createElement("p",null,"Secret Content Here"))):E.a.createElement(w.a,this.props.auth,E.a.createElement(k.a,null,E.a.createElement("div",null,"Unauthenticated - Sign up or log in to access"),E.a.createElement("p",null,"Secret Content Here")))}},{key:"render",value:function(){return this.renderProtectedContent()}}],[{key:"getInitialProps",value:function(){var e=Object(p.default)(r.a.mark(function e(n){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getInitialProps;case 2:if(e.t0=e.sent,!e.t0){e.next=7;break}return e.next=6,t.getInitialProps(n);case 6:e.t0=e.sent;case 7:return a=e.t0,e.abrupt("return",f({},a));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}]),a}(E.a.Component)}}},sIjd:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/userBlogs",function(){var e=n("Cxfa");return{page:e.default||e}}])},v5Dd:function(e,t,n){var a=n("NsO/"),r=n("vwuL").f;n("zn7N")("getOwnPropertyDescriptor",function(){return function(e,t){return r(a(e),t)}})},vYYK:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n("hfKm"),r=n.n(a);function u(e,t,n){return t in e?r()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}}},[["sIjd","5d41","9da1"]]]);